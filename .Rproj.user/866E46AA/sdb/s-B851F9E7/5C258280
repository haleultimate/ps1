{
    "collab_server" : "",
    "contents" : "#sample vars\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"O\"\nV1$type <- \"prc\"\nV1$tier <- 1\nV1$requires <- NULL\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"calc_adj,'Open'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"H\"\nV1$type <- \"prc\"\nV1$tier <- 1\nV1$requires <- NULL\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"calc_adj,'High'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"L\"\nV1$type <- \"prc\"\nV1$tier <- 1\nV1$requires <- NULL\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"calc_adj,'Low'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"C\"\nV1$type <- \"prc\"\nV1$tier <- 1\nV1$requires <- NULL\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.data.env,'.Adjusted'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"M\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- c('H','L')\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"calc_math,c('H','L'),'XX0N <- sqrt(XX1*XX2)'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"YC\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- \"C\"\nV1$ID <- 10 + which(rnd.env$priceID==V1$requires)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'C'\"\nV1$math[2] <- \"calc_lag,1\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"YO\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- \"O\"\nV1$ID <- 10 + which(rnd.env$priceID==V1$requires)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'O'\"\nV1$math[2] <- \"calc_lag,1\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"YH\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- \"H\"\nV1$ID <- 10 + which(rnd.env$priceID==V1$requires)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'H'\"\nV1$math[2] <- \"calc_lag,1\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"YL\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- \"L\"\nV1$ID <- 10 + which(rnd.env$priceID==V1$requires)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'L'\"\nV1$math[2] <- \"calc_lag,1\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"YM\"\nV1$type <- \"prc\"\nV1$tier <- 3\nV1$requires <- c('H','L','M')\nV1$ID <- 10 + which(rnd.env$priceID==V1$requires[3])\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'M'\"\nV1$math[2] <- \"calc_lag,1\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"C2\"\nV1$type <- \"prc\"\nV1$tier <- 2\nV1$requires <- \"C\"\nV1$ID <- 100 + 10 + which(rnd.env$priceID==V1$requires)\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,'C'\"\nV1$math[2] <- \"calc_lag,2\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\n#data to calculate raw returns\nrnd.env$prclu <- NULL\nfor (i in 1:length(rnd.env$vs.com)) {\n  rnd.env$prclu[i] <- rnd.env$vs.com[[i]]$name\n}\n\nV1 <- NULL\nV1$col <- 1\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nfor (i in 1:5) {\n  end_price <- names(rnd.env$prcorder[i])\n  ep_num <- which(rnd.env$prclu == end_price)\n  vs_end <- rnd.env$vs.com[[ep_num]]\n  for (j in (i+1):length(rnd.env$prcorder)) {\n    start_price <- names(rnd.env$prcorder[j])\n    sp_num <- which(rnd.env$prclu == start_price)\n    vs_start <- rnd.env$vs.com[[sp_num]]\n    V1$name <- ifelse( (start_price == 'YC'), paste('C',end_price,\"raw\",sep=\"\"), paste(start_price,end_price,\"raw\",sep=\"\")) \n    V1$type <- ifelse( (rnd.env$prcorder[[end_price]] == rnd.env$prcorder[[start_price]]),\"rng\",\"ret\")\n    V1$tier <- max(vs_end$tier,vs_start$tier) + 1\n    V1$requires <- unique(c(vs_end$requires,vs_start$requires,start_price,end_price))\n    V1$ID <- ifelse(start_price == 'Y2C', 2410 + vs_end$ID, 100*vs_start$ID + 10 + vs_end$ID)\n    V1$math[1] <- paste(\"calc_ret,'\",start_price,\"','\",end_price,\"'\",sep=\"\")\n\n    cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n    eval(parse(text=cmd_string))\n    rnd.env$raw_list <- c(rnd.env$raw_list,length(rnd.env$vs.com))\n  }\n}\nrm(end_price,ep_num,vs_end,start_price,sp_num,vs_start)\n\n#calc rets from raws (currently add abscap:.05)\n#ret_list <- NULL\n#for (i in raw_list) {\n#  V1 <- rnd.env$vs.com[[i]]\n#  V1$use <- \"model\"\n#  V1$requires <- c(V1$requires,V1$name)\n#  V1$tier <- V1$tier + 1\n#  V1$math[1] <- paste(\"from.var.env,'\",V1$name,\"'\",sep=\"\")\n#  V1$math[2] <- \"calc_cap,abscap=0.05\"\n#  V1$ID <- paste(V1$ID,get_id(V1$math[2]),sep=\"\")\n#  V1$name <- sub(\"aw\",\"et\",V1$name)\n#  cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n#  eval(parse(text=cmd_string))\n#  ret_list <- c(ret_list,length(rnd.env$vs.com))  \n#}\n\n#calc res's from raws (currently calc_res)\n#res_list <- NULL\n#for (i in raw_list) {\n#  V1 <- rnd.env$vs.com[[i]]\n#  V1$use <- \"model\"\n#  V1$calc_cmn <- FALSE\n#  V1$requires <- c(V1$requires,V1$name)\n#  V1$tier <- V1$tier + 1\n#  V1$math[1] <- paste(\"from.var.env,'\",V1$name,\"'\",sep=\"\")\n#  V1$math[2] <- paste(\"calc_res,'\",V1$name,\"'\",sep=\"\")\n#  V1$ID <- paste(V1$ID,get_id(V1$math[2]),sep=\"\")\n#  V1$name <- sub(\"aw\",\"es\",V1$name)\n#  cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n#  eval(parse(text=cmd_string))\n#  res_list <- c(res_list,length(rnd.env$vs.com))  \n#}\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"D\"\nV1$tier <- 1\nV1$requires <- NULL\nV1$ID <- which(rnd.env$priceID==V1$name)\nV1$type <- \"Vol\"\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"calc_dol,price='M'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\n\nV1 <- NULL\nV1$col <- 1\nV1$name <- \"lD\"\nV1$tier <- 2\nV1$requires <- \"D\"\nV1$ID <- 10*rnd.env$vs.com$D$ID + 1\nV1$type <- \"Vol\"\nV1$use <- \"calc\"\nV1$calc_cmn <- TRUE\nV1$math[1] <- \"from.var.env,field='D'\"\nV1$math[2] <- \"calc_math,math_str='XX0 <- log(XX0) - 18.5'\"\n\ncmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\neval(parse(text=cmd_string))\nrnd.env$vol_raw <- length(rnd.env$vs.com)\n#rnd.env$vol_list <- c(rnd.env$vol_list,length(rnd.env$vs.com))\n\n#V1 <- NULL\n#V1$col <- 1\n#V1$name <- \"clD\"\n#V1$tier <- 2\n#V1$requires <- \"D\"\n#V1$ID <- 10*rnd.env$vs.com$D$ID + 1\n#V1$type <- \"Vol\"\n#V1$use <- \"calc\"\n#V1$calc_cmn <- TRUE\n#V1$math[1] <- \"from.var.env,field='D'\"\n#V1$math[2] <- \"calc_cap,cap_pct=0.01\"\n#V1$math[3] <- \"calc_math,math_str='XX0 <- log(XX0) - 18.5'\"\n\n#cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n#eval(parse(text=cmd_string))\n#rnd.env$vol_list <- c(rnd.env$vol_list,length(rnd.env$vs.com))\n\n#V1 <- NULL\n#V1$col <- 1\n#V1$name <- \"aDd2\"\n#V1$tier <- 3\n#V1$requires <- c(\"D\",\"clD\")\n#V1$ID <- 10*rnd.env$vs.com$clD$ID + 2\n#V1$type <- \"Vol\"\n#V1$use <- \"calc\"\n#V1$calc_cmn <- TRUE\n#V1$math[1] <- \"from.var.env,field='clD'\"\n#V1$math[2] <- \"calc_decay,decay=0.02\"\n\n#cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n#eval(parse(text=cmd_string))\n#rnd.env$vol_list <- c(rnd.env$vol_list,length(rnd.env$vs.com))\n\n#V1 <- NULL\n#V1$col <- 12\n#V1$name <- \"ADV\"\n#V1$tier <- 1\n#V1$requires <- NULL\n#V1$ID <- 93\n#V1$type <- \"Vol\"\n#V1$use <- \"calc\"\n#V1$calc_cmn <- TRUE\n#V1$math[1] <- \"calc_adv,window=30\"\n\n#cmd_string <- paste(\"rnd.env$vs.com$\",V1$name,\" <- V1\",sep=\"\")\n#eval(parse(text=cmd_string))\n#rnd.env$vol_list <- c(rnd.env$vol_list,length(rnd.env$vs.com))\n\nrnd.env$namelu <- NULL\nfor (i in 1:length(rnd.env$vs.com)) {\n  rnd.env$namelu[i] <- rnd.env$vs.com[[i]]$name\n}\n",
    "created" : 1482465144145.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1534882101",
    "id" : "5C258280",
    "lastKnownWriteTime" : 1481574151,
    "last_content_update" : 1481574151,
    "path" : "~/XLF/ps1/sample_vars.R",
    "project_path" : "sample_vars.R",
    "properties" : {
    },
    "relative_order" : 11,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}